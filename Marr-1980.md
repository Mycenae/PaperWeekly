# Visual information processing: the structure and creation of visual representations

David Marr, MIT

## 0. Abstract

For human vision to be explained by a computational theory, the first question is plain: What are the problems that the brain solves when we see? It is argued that vision is the construction of efficient symbolic description from images of the world. An important aspect of vision is therefore the choice of representations for the different kinds of information in a visual scene. An overall framework is suggested for extracting shape information from images, in which the analysis proceeds through three representations: (1) the primal sketch, which makes explicit the intensity changes and local two-dimensional geometry of an image; (2) the 2.5D sketch, which is a viewer-centered representation of the depth, orientation and discontinuities of the visible surface; and (3) the 3-D model representation, which allows an object-centered description of the three-dimensional structure and organization of a viewed shape. The critical act in formulating computational theories for processes capable of constructing these representations is the discovery of valid constraints on the way the world behaves, that provide sufficient additional information to allow recovery of the desired characteristic. Finally, once a computational theory for a process has been formulated, algorithms for implementing it may be designed, and their performance compared with that of the human visual processor.

要让人类视觉由计算理论进行解释，第一个问题是明显的：在我们看的时候，大脑要解决的问题是什么？有人指出，视觉是从世界的图像中构建高效的符号描述。视觉的一个重要方面因此是，对视觉场景中不同类型的信息选择表示。提出的一个总体框架是，从图像中提取形状信息，其中通过三种表示进行分析：(1)原始简图，显示的表达了图像中的亮度变化和局部二维几何；(2) 2.5D简图，是一个以观察者为中心的，可见的表面的深度、方向和不连续性的表示；(3) 3D模型表示，是对观察的形状的3D结构和组织的以目标为中心的描述。构建这些表示的过程中，表述计算理论的关键一步，是发现世界行为的有效约束，从而提供充分的额外信息恢复期望的特征。最后，一旦形成这个过程的计算理论，就可以设计实现其的算法，其性能可以与人类视觉处理器可以进行比较。

## 1. Introduction

Modern neurophysiology has learned much about the operation of the individual nerve cell, but disconcertingly little about the meaning of the circuits that they compose in the brain. The reason for this can be attributed, at least in part, to a failure to recognize what it means to understand a complex information processing system; for a complex system cannot be understood as a simple extrapolation from the properties of its elementary components. One does not formulate, for example, a description of thermodynamical effects by using a large set of equations one for each of the particles involved. One describes such effects at their own level, that of an enormous collection of particles, and tries to show that in principle, the microscopic and macroscopic description are consistent with one another.

现代神经生理学从单个神经细胞的运作学到了很多，但对于它们在大脑中组成了什么样的回路的意义，则学习到了很少。其原因部分是，没有认识到理解一个复杂的信息处理系统的含义；一个复杂的系统不是其初级组成部分的属性的简单拓展。比如，对热力学效果的描述，并不是其涉及到的粒子的公式的集合组成的。描述这种效果要在其自己的层次，即大量例子的集合，并在原则上证明，微观描述和宏观描述是相互一致的。

The core of the problem is that a system as complex as a nervous system or a developing embryo must be analysed and understood at several different levels. Indeed, in a system that solves an information-processing problem, we may distinguish four important levels of description (Marr & Poggio, 1977; Marr 1977a). At the lowest level, there is basic component and circuit analysis: how do transistors (or neurons) or diodes (or synapses) work? The second level is the study of particular mechanism: adders, multipliers and memories, these being assemblies made from basic components. The third level is that of the algorithm, the scheme for a computation; and the top level contains the theory of the computation. A theory of addition, for example, would encompass the meaning of that operation, quite independent of the representation of the numbers to be added, i.e., whether they are, say arabic or roman. But it would also include the realization that the first of these representations is the more suitable of the two. An algorithm, on the other hand, is a particular method by which to add numbers. It therefore applies to a particular representation, since plainly an algorithm that adds arabic numerals would be useless for roman. At still a further level down, one comes upon a mechanism for addition - say a pocket calculator - which simply implements a particular algorithm. As a second example, take the case of Fourier analysis. Here the computational theory of the Fourier transform - the decomposition of an arbitrary mathematical curve into a sum of sine waves of differing frequencies - is well understood, and is expressed independently of the particular way in which it might be computed. One level down, there are several algorithms for computing a Fourier transform, among them the so-called fast Fourier transform, which comprises a sequence of mathematical operations, and the so-called spatial algorithm, a single, global operation that is based on the mechanism of laser optics. All such algorithms produce the same result, so the choice of which one to use depends upon the particular mechanism that are available. If one has fast digital memory, adders and multipliers, one will use fast Fourier transform, and if one has a laser and photographic plates, one will use a 'optical' method.

问题的核心是，一个复杂的神经系统，或发育中的胚胎，对其进行分析和理解，要在几个不同的层次。确实，对于解决一个信息处理问题的系统中，我们可以区分出四个重要的描述层次。在最低层，是基础组成部分和电路分析：晶体三极管（或神经元）或二极管（或突触）是怎样工作的？第二个层次是，特定机制的研究：加法器，乘法器和内存，这是由基础组成部分制造出来的组合体。第三个层次是算法，即计算的方案；最顶层是计算的理论。比如，加法的理论，会包含这个运算的含义，与要相加的数字的表示是非常无关的，即，它们是阿拉伯数字或罗马数字。但也应当包括，这些表示的第一种，比两者一起要更加适合。另一方面，一个算法是对数字进行相加的特定方法。因此算法适用于特定的表示，因为很简单，对阿拉伯数字相加的算法，对于罗马数字来说是无用的。在更低一个层次，这涉及到加法的机制，比如一个口袋计算器，只实现了一个特定的算法。第二个例子，傅里叶分析。傅里叶变换的计算理论，将任意数学曲线分解成不同频率的sine函数的相加，大家都很理解，其表达与其计算的特定方式是基本无关的。更低一个层次，要计算一个傅里叶变换有几个算法，有快速傅里叶变换，由一系列数学运算组成，和所谓的空域算法，是单个全局的运算，基于激光光学的机制。所有这些算法都会得到相同的结果，所以选择哪个进行使用，依赖于可用的特定机制。如果有快速的数字内存，加法器和乘法器，就可以使用快速傅里叶变换，如果有激光和光学成像板，就会使用一种光学方法。

Now each of the four levels of description will have its place in the eventual understanding of perceptual information processing, and of course there are logical and causal relations among them. But the important point is that the four levels of description are only loosely related. Too often in attempts to relate psychophysical problems to physiology there is confusion about the level at which a problem arises: is it related, for instance, mainly to the physical mechanisms of vision (like the after-imagers such as the one seen after staring at a light bulb) or mainly to the computational therory of vision (like the ambiguity of the Necker cube)? More disturbingly, although the top-level is the most neglected, it is also the most important. This is because the nature of computations that underlie perception depend more upon the computational problems that have to be solved that upon the particular hardware in which their solutions are implemented. To phrase the matter another way, an algorithm is likely to be understood more readily by understanding the nature of the problem that it deals with than by examining the mechanism (and the hardware) by which it is embodied. There is, after all, an analogue to all of this in physics, where a thermodynamical approach represented, at least historically, the first stage in the study of matter: it succeeded in producing a theory of gross properties such as temperature. A description in terms of mechanisms or elementary components - in this case atoms and molecules - appeared some decades afterwards.

现在这四个层次描述的每一个，都会在感知信息处理的最终理解中都会有其位置，当然，它们之间会有逻辑和因果的关系。但重要的点是，这四个描述的层次是松散相关的。要想将心理物理问题与生理学想联系起来，就会出现混淆，问题出现了哪个层次：比如，是主要与视觉的物理机制有关（就像后成像，比如盯着一个灯泡看之后的结果），还是主要与视觉的计算理论相关（就像Necker方块的疑义性）？更加令人不安的是，虽然最顶层通常被忽略，这也是最重要的。这是因为，感知下面的计算的本质，更加依赖于必须要解决的计算问题，要在特定硬件中实现解决方法。用另一种方式表述问题，要更容易的理解一个算法，最好是去理解其要解决的那个问题，而不是去理解其体现的机制（和硬件）。毕竟，在物理中可以与这个类比的，热力学方法在历史上首先是由物质的研究表示的：产生了总体性质的理论，比如温度。由机制或基础组成部分组成的描述，这种情况下是原子和分子，在几十年之后才出现。

Our main point, therefore, is that the topmost of our four levels, that at which the necessary structure of computation is defined, is a crucial but neglect one. Its study is separate from the study of particular algorithm, mechanism or hardware, and the techniques needed to pursue it are new. In the rest of this article, I summarize some example of vision theories at the upper-most level.

因此，我们的主要观点是，这四个层次的最高层，计算的必要结构在这个层次定义，是非常关键的，但是被忽略了。其研究与特定算法、机制或硬件的研究是独立的，追求之所需的技术是新的。本文剩下部分，我总结了最高层次的视觉理论的一些例子。

## 2. Conventional Approaches

The problems of visual perception have attracted the curiosity of scientists for many centuries. Important early contributions were made by Newton (1704), who laid the foundations for modern work on color vision, and Helmholtz (1910), whose treatise on physiological optics maintains its interest even today. Early in this century, Wertheimer (1938) noticed the apparent motion not of individual dots but instead of wholes, or 'fields', in images presented sequentially, as if in a cine film. In much the same way do we perceive the migration across the sky of a flock of geese, the flock somehow constituting a single entity, and not individual birds. This observation started the Gestalt school of psychology, which was concerned with describing the qualities of wholes, including solidarity and distinceness, and trying to formulate the laws that governed their creation. The attempt failed for various reasons, and the Gestalt school dissolved into the fog of subjectivism. With the death of the school, many of its early and genuine insights were unfortunately lost to the mainstream of experimental psychology.

视觉感知的问题在几个世纪以来吸引了很多科学家的好奇心。牛顿做出了重要的早期贡献，打下了彩色视觉的现代工作的基础，Helmholtz在生理光学的的论文甚至在今天还有很多兴趣。本世纪早期，Wertheimer注意到，整体的运动，或场，在图像中顺序给出，就好像电影胶片一样。以一样的方式，我们感知天空中一群天鹅的迁徙，这个群体以某种方式构成了一个整体，而并不是单个的鸟。这种观察开启了心理学的Gestalt学派，他们关心的是描述整体的质量，包括团结性和区分性，并尝试表述这种形成的规律。这种尝试由于几个原因失败了，Gestalt学派陷入了主观主义的迷雾。该学派消亡后，很多其早期真正的洞见，在主流的试验心理学中消失了。

The next developments of importance were recent and technical. The advent of electro-physiology in the 1940s and 1950s made single-cell recording possible, and with Kuffler's (1953) study of retinal ganglion cells - the neurons of the eye that give rise to the optic nerve - a new approach to the problem was born. Its most renowned practitioners are Hubel & Wiesel (1962, 1968), who since 1959 have conducted an influential series of investigations on single cell responses at various points along the visual pathway in the cat and the monkey.

下一个重要的进展是最近的科技进展。1940s和1950s电生理学的出现，使得单细胞记录成为可能，Kuffler研究了视网膜神经节细胞，眼睛中发生视神经的神经元，诞生了这个问题的新方法。其最著名的参与者是Hubel & Wiesel (1962, 1968)，他们自从1959年进行了一系列重要的研究，对猫和猴子的视觉通路中不同点处的单细胞响应进行了研究。

Students of the psychology of perception were also affected by a technological advance, the advent of the digital computer. Most notably, it allowed Bela Julesz in 1959 to devise random-dot stereograms (see Julesz 1971), which are image pairs constructed of dot patterns that appear random when viewed monocularly, but which fuse when viewed one through each eye to give a percept of shapes and surfaces with a clear three-dimensional structure. An example is shown in figure 1. Here the image for the left eye is a matrix of black and white squares generated at random by a computer program. The image for the right is made by copying the left image and then shifting a square-shaped region at its centre slightly to the left, providing a new random pattern to fill in the gap that the shift must create. If each of the eyes sees only one matrix, as if they were both in the same physical place, the result is the sensation of a square floating in space. Plainly such percepts are caused solely by the stereo disparity between matching elements in the images presented to each eye.

感知心理学学生也受到电脑的发明这一科技进展影响。最著名的是，这使Bela Julesz在1959年设计出了随机点立体图，这是由点模式构成的图像对，如果用单眼看似乎是随机的，但如果一只眼看一幅图，就会看到很清洗的三维结构。一个例子如图1所示。这里左眼中是计算机程序随机生成的黑白方块，右眼中的图像是左边的图像平移了方形区域，由新的随机模式来填充空白。如果每只眼睛看一个矩阵，就好像它们是在同一个物理位置上，结果就是感到有一个方形浮动在空间中。这样的感知是由于图像中匹配元素的立体差异造成的。

More recently, considerable interest has been attracted by a rather different approach. In 1971, Shepard & Metzler made line drawings of simple objects that differed from one another either by a three dimensional rotation, or by a rotation plus a reflexion (see figure 2). They asked how long it took to decide whether two depicted objects differed by a rotation  and a reflexion, or merely a rotation. They found that the time taken depended on the 3D angle of rotation necessary to bring the two objects into correspondence. Indeed, it varied linearly with this angle. One is led thereby to the notion that a mental rotation of sorts is actually being performed: that a mental description of the first shape in a pair is being adjusted incrementally in orientation until it matches the second, such adjustment requiring greater time when greater angles are involved.

最近，另一种方法吸引了很多注意力。在1971年，Shepard & Metzler用线条画了一些简单的物体，其不同在于经过了三维旋转，或旋转加上反射（见图2）。他们问，要用多长时间才能决定两个物体的不同仅仅是旋转和反射，或只有旋转。他们发现，需要的时间取决于将其对应起来的旋转3D角度。确实，与这个角度是线性关系。因此可以得出，实际上进行了思维上的旋转：第一个形状的思维描述，逐步的进行角度调整，直到与第二个匹配上，因此当角度更大时，就需要更长的时间。

Interesting and important though these findings are, one must sometimes be allowed the luxury of pausing to reflect upon the overall trends that they represent, in order to take stock of the kind of knowledge that is accessible through these techniques. For we repeat: perhaps the most striking feature of neurophysiology and psychophysics at present is that they describe the behavior of cells of subjects, but do not explain it. What are the visual areas of the cerebral cortex actually doing? What are the problems in doing it that need explaining, and at what level of description should such explainations be sought?

这些发现很有趣也很重要，但有时候也要停下来，回顾一下他们表示的整体趋势，以清理通过这些技术可以得到知识类型。所以我们重复一下：神经生理学和生理物理学目前最重要的特征，是他们描述了物体细胞的行为，但并没有解释它。大脑皮层的视觉区域究竟在干什么？做的这些工作的问题哪些需要解释，应当去寻求这些解释在哪个层次的描述？

## 3. A Computational Approach to Vision

In trying to come to grips with these problems, our group at the MIT Artificial Intelligence Laboratory has adopted a point of view that regards visual perception as a problem primarily in information processing. The problem begins with a large, grey level intensity array, which suffices to approximate an image such as the world might cast upon the retinas of the eyes, and it culminates in a description that depends on that array, and on the purpose that the viewer brings to it. Our particular concern in this article will be with the derivation of a description well suited for the recognition of three-dimensional shapes.

在尝试对付这些问题时，我们MIT人工智能实验室采用了将视觉感知视为信息处理问题的观点。问题以一个大的亮度阵列开始，可以近似一幅图像，即世界在人眼视网膜上的投影，最终得到依赖于这个阵列的一个描述，观察者得到这个结果的目的。本文中我们的特殊关注是，推导出一种描述，适用于三维形状的识别。

### 3.1 The Primal Sketch

It is a commonplace that a scene and a drawing of the scene appear very similar, despite the completely different grey-level images to which the give rise. This suggests that the artist's symbols correspond in some way to natural symbols that are computed out of the image during the normal course of its interpretation. Our theory therefore asserts that the first operation on an image is to transform it into a primitive but rich description of the way its intensities change over the visual field, as opposed to a description of its particular intensity values in and of themselves. This yields a description of markedly reduced size that still captures the important aspects required for image analysis. We call it a primal sketch (Marr 1976). Consider, for example, an intensity array of 1000 by 1000, or 10^6 points in all. Even if the possible intensity at any one point were merely black or white - two different brightness - the number of all possible arrays would still be 2^10^6. In a real image, however, there tend to be continuities of intensity - areas where brightness varies uniformly - and this tends to be eliminate possibilities in which the black and white oscillate wildly. It also tends to simplify the array. Typically, therefore, a primal sketch need not include a set of values for every point in an image. As stored in a computer, it will instead constitute an array with numbers representing the directions, magnitudes, and spatial extents of intensity changes assigned to certain specific points in an image, points that tend to be places of locally high or low intensity. The positions of these points, particularly their arrangement among their immediate neighbours - that is to say, the local geometry of the image - must also be made explicit in the primal sketch, as it would otherwise be lost. (It was implicit, of course, in the 1000 by 1000 array, but we are no longer retaining data for each of those 10^6 places.) One way to do this is to specify 'virtual lines' - directions and distances - between neighbouring points of interest in the sketch.

一个场景和这个场景的素描看起来非常类似，尽管它们是完全不同的灰度图像，这是很常见的事情。这说明，从图像计算得到的艺术家的符号，在其解释的正常过程中，与自然符号以某种方式对应了起来。我们的理论因此推断，对图像的第一个操作是，将其转换成一种原始的但丰富的描述，亮度在视野中是变化的，而不是特定亮度值的描述。这样产生的描述，其大小会极度降低，但仍然会捕获到图像分析所需要的重要方面。我们称之为原始简图。比如，考虑一个1000x1000的灰度阵列。即使在任意点上的可能灰度只是黑或白，两种不同的亮度，所有可能的阵列的数量也是2^10^6。但在一个真实图像中，亮度是有连续性的，在一些区域中，亮度是一致的，这就消除了黑白震荡剧烈的可能性。这也会简化这个阵列。因此，一般来说，一个原始简图不需要包括图像中每个点的值。由于是存储在计算机中的，这会由一个阵列构成，内部是表示方向、幅度和图像中特定点的亮度变化的空间幅度，局部很高或很低亮度的点的位置。这些点的位置，尤其是其在其邻域中的组织，即图像的局部几何，也要在原始简图中显式指出，否则就会丢失掉。（在1000x1000的阵列中当然是隐式的，但我们并不保存每个10^6的数据）。一种方法是在原始简图中的感兴趣相邻点之间指定一些虚拟线，方向和距离。

The process of computing the primal sketch involves several steps. The first is the derivation of the raw primal sketch (see Marr & Hildreth 1979), which involves detecting and representing the intensity changes in the image. First, the image is filtered through a set of medium bandpass second differential operators ∇^2 G, (where ∇^2 is the Laplacian and G is a Gaussian distribution), and the zero-crossings in the filtered images are found (see figure 3). This representation of the intensity changes is probably complete (Marr et al. 1979).

计算原始简图的过程涉及到几个步骤。第一个是未加工的原始简图，即检测并表示图像中的亮度变化。第一，图像通过中等带通二阶微分算子∇^2 G滤波，找到滤波图中的过零点（见图3）。亮度变化的这种表示很可能是完备的。

Although in general there is no reason why the zero-crossings found by the different channels should be related, in practice they will be. The reason is that most intensity changes in an image arise from physical phenomena that are spatially localized. This constraint allowed Marr & Hildreth to formulate the spatial coincidence assumption which states: If a zero-crossing is present in a set of independent ∇^2 G channels over a contiguous range of sizes, and it has the same position and orientation in each channel, then the set of such zero-crossings may be taken to indicate the presence of an intensity change in the image that is due to a single physical phenomenon (a change in reflectance, illumination, depth or surface orientation).

虽然不同通道找到的过零点的关联性没有任何原因，但实际中它们都会关联上。原因是，图像中的多数灰度变化都是由物理现象导致的，在空间上都是局部的。这种约束使得Marr & Hildreth将空间一致性的假设表述如下：如果一个过零点在独立的∇^2 G通道集合中存在，在每个通道中都有相同的位置和方向，那么这种过零点的集合就可以说明，图像中灰度变化的存在，是因为单个物理现象导致的（反射率，光照，深度或表面方向的变换）。

This assumption allows one to combine the zero-crossings from different channels into edge-segment descriptors, bars and blobs (see fig 4b), which constitute the raw primal sketch. To obtain the full primal sketch, these primitive elements are grouped, perhaps hierachically, into units called place-tokens, which associate properties like length, width, brightness and so forth with positions in the image (Marr 1976). Virtual lines may then be used to represent the local geometry of these place-tokens (see figure 4c and Stevens 1978).

这个假设使得不同通道的过零点可以结合到一起，成为边缘片段描述子，bars和blobs（见图4b），这构成了未加工的原始简图。为得到完整的原始简图，这些原始元素要被分组，可能是层次化的，成为称为place-tokens的单元，与长度、宽度、亮度等与位置相关的属性关联起来。虚拟的线就可以用于表示这些place-tokens的局部几何。

Recently, Marr & Ullman (1979) have extended the work of Marr & Hildreth to include the detection and use of directional selectivity. They have proposed specific roles for the X and Y channels found originally by Enroth-Cugell & Robson (1966), and in an explicit model for one class of cortical simple cell, they showed how to combine X and Y information to form a directionally selective unit.

最近，Marr & Ullman (1979)拓展了Marr & Hildreth的早期工作，纳入了方向选择性的检测和使用。他们提出了Enroth-Cugell & Robson (1966)发现的X和Y通道的具体角色，在一类外皮质简单细胞的显式模型中，他们证明了怎样将X和Y信息结合到一起，以形成方向选择性单元。

### 3.2 Modules of early visual processing

The primal sketch of an image is typically a large and unwieldy collection of data, even despite its simplification relative to a grey-level array; for this is the unavoidable consequence of the irregularity and complexity of natural images. The next computational problem is thus its decoding. Now the traditional approach to machine vision assumes that the essence of such a decoding is a process called segmentation, whose purpose is to divide a primal sketch, or more generally an image, into regions that are meaningful, perhaps as physical objects. Tenenbaum & Barrow (1976), for example, applied knowledge about several different types of scene to the segmentation of images of landscapes, an office, a room, and a compressor. Freuder (1975) used a similar approach to identify a hammer in a simple scene. Upon finding a blob, his computer program would tentatively label it as the head of a hammer, and begin a search for confirmation in the form of an appended shaft. If this approach were correct, it would mean that a central problem for vision is arranging for the right piece of specialized knowledge to be made available at the appropriate time in the segmentation of an image. Freuder's work, for example, was almost entirely devoted to the design of a system that made this possible. But despite considerable efforts over a long period, the theory and practice of segmentation remain rather primitive, and here again we believe that the main reason lies in the failure to formulate precisely the goals of this stage of the processing - a failure, in other words, to work at the topmost level of visual theory. What, for example, is an object? Is a head an object? Is it still an object if it is attached to a body? What about a man on horseback?

一幅图像的原始简图，一般是大量笨重的数据，即使在对灰度阵列进行了相对简化之后仍然是；这是自然图像的不规则性和复杂性的不可避免的结果。下一个计算问题就是其解码。现在机器视觉的传统方法假设这样的解码的本质是一个称为分割的过程，其目的是将原始简图进行分割，或对通用的图像进行分割，成为有意义的区域，可能是物理目标。比如，Tenenbaum & Barrow (1976)应用了关于几种不同的场景类型的知识来分割风景、办公室、房间和压缩机的图像。Freuder (1975)使用了类似的方法来在一个简单的场景中识别一个锤子。在找到blob上，他的计算机程序会初步标注为锤子头，并开始搜索附带的杆身的核实。如果这种方法是正确的话，这就意味着，视觉的一个核心问题是，安排正确的专门知识，在分割图像的合适时间是可用的。比如，Freuder的工作几乎完全就是设计这样一套系统。尽管耗时很长，工作量很大，分割的理论和实践仍然是非常原始的，这里我们再次相信，主要的原因是，不能准确的表述这个阶段处理的目标，即是视觉理论最高层次的失败。比如，什么是一个目标？头是一个目标吗？如果与身体连接到一起，仍然还是一个目标吗？在马背上的一个人是目标吗？

Marr (1978) argued that the early stages of visual information processing ought instead to squeeze the last possible ounce of information from an image before taking recourse to the descending influence of 'hight-level' knowledge about objects in the world. Let us turn, then, to a brief examination of the physics of the situation. As noted earlier, the visual process begins with arrays of intensities projected upon the retinas of the eyes. The principle factors that determine these intensities are (1) the illuminant, (2) the surface reflectance properties of the objects viewed, (3) the shapes of the visible surfaces of these objects, and (4) the vantage point of the viewer. Thus if the analysis of the input intensity arrays is to operate autonomously, at least in its early stages, it can only be expected to extract information about these four factors. In short, early visual processing must be limited to the recovery of localized physical properties of the visible surfaces of a viewed object, particularly local surface dispositions (orientation and depth) and surface material properties (color, texture, shininess, and so on). More abstract matters such as a description of overall three-dimensional shape must come after this more basic analysis is complete.

Marr (1978)认为，视觉信息处理的早期阶段，应当从图像中挤出所有可能的信息，然后再去进行后续的高层次目标知识处理。然后，让我们简要检查一下情况。之前提到过，视觉过程以投影到人眼视网膜上的亮度阵列开始。决定这些亮度的主要因素是，(1)光照，(2)观察的目标的表面反射属性，(3)这些目标的可见表面的形状，(4)观察者的有利地点。因此，如果输入亮度阵列的分析是要自动运算的话，至少在初级阶段，那么就只能提取这四个因素的信息。简要来说，早期视觉处理必须局限在，恢复观察目标的可见表面的局部物理性质，特别是局部表面的属性（方向和深度）和表面材料属性（色彩，纹理，亮度，等等）。更抽象的物质，比如总体三维形状的描述，应当是在这种更基础的分析结束以后。

An example of early processing is stereopsis. Imagine that images of a scene are available from two nearby points at the same horizontal level - the analogue of the images that play upon the retinas of your left and right eyes. The images are somewhat different, of course, in consequence of the slight difference in vantage point. Imagine further that a particular location on a surface in the scene is chosen from one image; that the corresponding location is identified in the other image; and that the relative positions of the two versions of that location are measured. This information will suffice for the calculation of depth - the distance of that location from the viewer. Notice that methods based on grey-level correlation between the pair of images fail to be suitable because a mere grey-level measurement does not reliably define a point on a physical surface. To put the matter plainly, numerous points in a surface might fortuitously be the same shade of grey, and differences in the vantage points of the observer's eyes could change the shade as well. The matching must evidently be based instead on objective markings that lie upon the surface, and so one had to use changes that exist in each image (such as a primal sketch), and then to match these descriptions. After all, the line segments, edge segments, blobs, and edge termination points included in such a description correspond quite closely to boundaries and reflectance changes on physical surfaces. The stereo problem - the determination of depth given a stereo pair of images - may thus be reduced to that of matching two primitive descriptions, one from each eye; and to help in this task there are physical constraints that translate into two rules for how the left and right descriptions are combined.

早期处理的一个例子是立体视觉。想象一下，在同样水平高度的两个附近的点处都有一个场景的图像，类似于左眼和右眼视网膜上的图像。这些图像当然会略有不同，是观察点的略微差异导致的。进一步假设，场景中平面的一个特定位置是从一幅图像中选定的；另一幅图形中可以识别出对应的位置；这个位置的两个版本的相对位置可以进行测量。这个信息就足以计算深度，那个位置到观察者之间的距离。注意，基于图像对灰度级相关的方法可能不太合适，因为仅仅有灰度级的度量，不能可靠的定义物理平面上的一个点。明白的说，表面上的无数点都可以巧合的有同样的灰度级，而且观察者眼睛的位置的差异也会改变灰度。匹配需要基于表面上的客观标记，所以必须利用每个图像中的变化处（比如一个原始简图），然后对这些描述进行匹配。毕竟，线段，边缘片段，blobs，边缘结束点，与物理表面上的边缘和反射率变化匹配的相当好。立体视觉问题，即根据给定的立体图像对，确定深度的问题，可以成为两个原始描述之间的匹配，每个对应一个眼睛；为在这个任务中起到帮助作用，物理约束可以翻译成两个规则，左边和右边的描述怎样进行结合。

#### 3.2.1 Uniqueness

Each item from each image may be assigned at most one disparity value, that is to say, a unique position relative to its counterpart in the stereo pair. This condition rests on the premise that the items to be matched have a physical existence, and can be in only one place at a time.

每个图像中的每个项可以最多指定一个视差值，即，在立体视觉图像对中，一个唯一的位置与其对应的点。这个条件的前提是，要匹配的项只有一个物理存在，一次只能在一个位置。

#### 3.2.2 Continuity

Disparity varies smoothly almost everywhere. This condition is a consequence of the cohesiveness of matter, and it states that only a relatively small fraction of the area of an image is composed of discontinuities in depth.

视差在几乎所有地方都是平滑变化。这个条件是物质凝聚性的一个结果，一幅图像中只有相对很小部分区域是由深度的不连续性构成的。

In the case of random-dot stereograms, the computational problem is rather well defined, essentially because of Julesz's demonstration that random-dot stereograms, containing no monocular information, still yield stereopsis. In 1976, Marr & Poggio developed a method for computing local disparities in a pair of random-dot stereograms by an iterative, parallel procedure known technically as cooperative algorithm (see figure 1 and Marr et al. 1977). This sort of algorithm has the property that it can be defined completely in terms of simple local interactions because at each of its iterations, each point is affected only by a calculation performed on its immediate neighbourhood. Yet all points are so affected during each successive iteration, so the transformations take on a complex global nature. Subsequent comparison of the algorithm's performance with psychophysical data showed that it did not hold up well as a model for human stereopsis. To be sure, it performed better than people do on the standard stereograms like that shown in figure 1; but it did not explain people's ability to see stereograms in which one of the two images is defocused slightly or enlarged slightly relative to the other. These observations led Marr & Poggio (1979) to devise another algorithm, based on the human use of spatial-frequency-tuned channels and vergence eye movements. This algorithm is consistent with all of the currently known psychophysical data.

在随机点立体图的情况中，计算问题是非常定义明确的，基本是因为Julesz表述的随机点立体图，不包含单目信息，仍然可以得到立体视觉。在1976年，Marr & Poggio提出了一种方法，用一种迭代的并行过程，计算一对随机点立体图的局部视差，称为合作算法。这种算法的性质是，可以由简单的局部交互完全定义，因为在其每次迭代中，每个点都只和其直接邻域进行计算并影响。但所有点都是在每次迭代中都到这样的影响，所以这种变换呈现出一种复杂的全局性质。算法性能与心理物理数据的后续比较表明，对于人类立体视觉来说，这并不是一个很好的模型。确切的说，算法的表现在标准立体图上比人要好，如图1；但其并没有解释人类看立体图的能力，一个图像有略微离焦，略微放大。这些观察使Marr & Poggio (1979)设计了另一个算法，是基于人类利用的空间-频率-调节的通道，和转斜眼球运动。这个算法与所有目前已知的生理物理数据都是一致的。

A second example of early visual processing concerns the derivation of structure from motion. It has long been known that as an object moves relative to the viewer, the way its appearance changes provides information that we can use to determine its shape (Wallach & O'Connell 1953). The motion analogue of a random-dot stereogram is illustrated in figure 5, and as expected, humans can easily perceive shape from a succession of frames, each of which on its own is merely a set of random-dots. In various papers and a forthcoming book on the subject, Ullman (1979 a, b) decomposed the problem into two parts: matching the elements that occur in consecutive images, and deriving shape information from measurements of their changes in position. Ullman then showed that these problems can be solved mathematically. His basic idea is that, in general, nothing can be inferred about the shape of an object given only a set of sequential views of it; some extra assumptions have to be made. Accordingly, he formulates an assumption of rigidity, which states that if a set of moving points has a unique interpretation as a rigid body in motion, that interpretation is correct. (The assumption is based on a theorem, which he proves, stating that three distinct views of four non-coplanar points on a rigid body are sufficient to determine uniquely their three-dimensional arrangement in space.) From this he derives a method for computing structure from motion. The method gives results that are quantitatively superior to the ability of humans to determind shape from motion, and which fail in qualitatively similar circumstances. Ullman has also devised a set of simple algorithms by which the method may be implemented.

早期视觉处理的第二个例子，涉及的是从运动中计算结构的推导。大家都知道，当一个目标相对于观察者运动时，其外观的变化提供了一些信息，我们可以用来确定其形状。与随机点立体图相似的运动，如图5所示，就像期待的一样，人类可以很容易的从连续的帧中感知到形状，这里每一帧都是一个随机点集。在这个主题的各种文章和书籍中，Ullman将问题分解成两部分：对在连续图像中出现的元素进行匹配，从其位置的变化的测量中推导出形状信息。Ullman然后展示了，这种问题可以从数学上进行求解。他的基本思想是，总体上，如果只给定顺序视角的集合，不能推导出目标的形状的任何信息；必须要进行一些额外的假设。相应的，他表述了刚性的假设，即如果移动的点集可以唯一的解释运动的刚体，那么这个解释就是正确的。（这个假设是基于一个定理的，他证明了，一个刚体上的三个不同视角的四个非共面点，足以唯一的确定其在空间中的三维配置）。从这个，他推导出了一个计算SFM的方法。这个方法给出了结果，量化上优于人类确定SFM的能力，而在定性的类似情况下，则会失败。Ullman还设计了一个简单算法集合，通过这个算法集合实现了这个方法。

### 3.3. The 2.5D Sketch

Both of the techniques of image analysis discussed in the preceding paragraphs provide information about the relative distances to various places in an image. In stereopsis, it is the matching of points in a stereo pair that leads to such information. In structure from motion, it is the matching of points in successive images. More generally, however, we know that vision provides several sources of information about shapes in the visual world. The most direct, perhaps, are the aforementioned stereo and motion, but texture gradients in a single image are nearly as effective. Furthermore, the theatrical techniques of facial make-up reveal the sensitivity of perceived shapes to shading (see Horn 1975), and color sometimes suggests the manner in which a surface reflects light. It often happens that different parts of a scene are open to inspection by different techniques. Yet different as the techniques are, they all have two important characteristics in common: they rely on information from the image rather than a prior knowledge about the shapes of the viewed objects, and the information that they specify concerns the depth or surface orientation at arbitrary points in an image, rather than the depth or orientation associated with particular objects (see table 1).

上一节讨论的图像分析技术，给出了图像中到各种未知的相对距离的信息。在立体视觉中，在立体图对中的点的匹配，带来了这样的信息。在SFM中，是连续图像中的点的匹配。但是，更加一般的是，我们知道，关于视觉世界中的形状，视觉给出了几个信息源。可能最直接的是，是之前提到的立体视觉和运动，但单个图像中的纹理梯度也基本是一样有效的。而且，剧场的面部妆容技术揭示了，感知到的形状对阴影是非常敏感的，色彩有时候说明了，一个表面反射光的形式。经常发生的是，一个场景的不同部分需要用不同的技术进行检查。虽然技术不同，它们都有两个不同的特征：它们都依赖于图像中的信息，而不是观察到的目标的形状的先验信息，它们指定的信息于图像中任意点处的深度或表面方向有关，而不是于特定目标相关的深度或方向。

To make the most efficient use of different and often complementary channels of information deriving from stereopsis, from motion, from contours, from texture, from color, from shading, they need to be combined in some way. The computational question that now arises is thus how best to do this, and the natural answer is to seek some representation of the visual scene that makes explicit just the information that these processes can deliver. We seek, in other words, a representation of surfaces in an image that makes explicit their shapes and orientation, much as the arabic representation of a number makes explicit its composition by powers of ten. It might be contrasted with the representation of a surface as a mathematical expression, in which the orientation is only implicit, and not at all apparent. We call such a representation the 2.5D sketch (Marr & Nishihara 1978; Marr 1978), and in the particular candidate for it shown in figure 6, surface orientation is represented by covering an image with needles. The length of each needle defines the dip of the surface at that point, so that zero length corresponds to a surface that is perpendicular to the vector from the viewer to the point, and increasing lengths denote surfaces that dip increasingly away from the viewer. The orientation of each needle defines the local direction of dip.

要有效的利用立体视觉中、运动中、从轮廓中、从纹理中、从色彩中、从阴影中推导出的不同的，通常互补的信息通道，它们需要以某种方式进行结合。现在出现的计算问题是，怎样最好的做这个事，很自然的回答是，寻求视觉场景的某种表示，使这些过程可传递的信息显式表达出来。换句话说，我们寻求图像中表面的一个表示，显式的表达其形状和方向，与一个数字的阿拉伯表示一样，将其组成由10的幂次显式表达出来。与之形成对比的是，将表面用数学表达式表达，其中的方向是隐式的，完全不是显而易见的。我们称这种表示为2.5D简图，如图6中所示的特别例子一样，表面方向是由覆盖图像中针形表示的。每根针的长度定义了表面在这个点的dip，所以长度为0表示，这个表面与观察者到这个点之间的矢量是垂直的，长度增加表示，表面法线与观察者到该点的向量差异越大。每个针的方向定义了dip的局部方向。

Our argument is that the 2.5D sketch is useful because it makes explicit information about the image in a form that is closely matched to what image analysis can deliver. To put it another way, we can formulate the goals of this stage of visual processing as being primarily the construction of this representation, discovering, for example, what are the surface orientations in a scene, which of the contours in the primal sketch correspond to surface discontinuities and should therefore be represented in the 2.5D sketch, and which contours are missing in the primal sketch and need to be inserted into the 2.5D sketch to bring it into a state that is consistent with the nature of three-dimensional space. This formulation avoids the difficulties associated with the terms 'region' and 'object' - the difficulties inherent in the image segmentation approach; for the grey level intensity array, the primal sketch, the various modules of early visual processing, and finally the 2.5D sketch itself deal only with discovering the properties of surfaces in an image. One is pleased about that, for we know of ourselves as perceivers that surface orientation can be associated with unfamiliar shapes, so its representation probably precedes the decomposition of the scene into objects. One is thus free to ask precise questions about the computational structure of the 2.5D sketch and of processes to create and maintain it. We are currently much occupied with these matters.

我们的观点是，2.5D简图是有用的，因为其使图像的信息显式化的的方式，与图像分析可以给出的方式是非常匹配的。换种方式说，我们可以将这个阶段视觉处理的目标表述为，构建这种表示，比如，发现什么是这个场景中的表面方向，原始简图中的哪个轮廓对应着表面不连续性，因此需要在2.5D简图中表示，在原始简图中哪个轮廓缺失了，需要在2.5D中插入进来，将其带到与3D空间的本质一致的状态。这种表述要避免与术语区域和目标这样的关联，这种困难是图像分割方法内在的困难；对于灰度阵列，原始简图，早期视觉处理的各种模块，最终的2.5D简图只处理发现图像中表面的属性的任务。对此我们应感到高兴，因为我们作为感知者知道，表面方向可能与不熟悉的形状的相关联，所以形成这种表示应当在前，然后才将场景分解成各个目标。还有很多精确的问题可以问，如2.5D简图的计算结构，创建和维护2.5D简图的过程。我们现在正在忙于这些问题。

## 4. Later Processing Problems

The final components of our visual processing theory concern the application of visually derived surface information for the representation of three-dimensional shapes in a way that is suitable specifically for recognition (Marr & Nishihara 1978). By this we mean the ability to recognize a shape as being the same as a shape seen earlier, and this essence depends on being able to describe shapes consistently each time they are seen, whatever the circumstances of their positions relative to the viewer. The problem with local surface representations such as the 2.5D sketch is that the description depends as much on the viewpoint of the observer as it does on the structure of the shape. In order to factor out a description of a shape that depends on its structure alone, the representation must be based on readily identifiable geometric features of the overall shape, and the dispositions of these features must be specified relative to the shape in itself. In brief, the coordinate system must be 'object-centred', not 'viewer centred'. One aspect of this deals with the nature of the representation scheme that is to be used, and another with how to obtain it from the 2.5D sketch. We begin by discussing the first, and will then move on to the second.

我们视觉处理理论的最终组成部分，是将视觉上推导出来的表面信息，用于3D形状的表示，而且还要适用于识别。通过这个，我们的意思是，识别一个之前看到过的形状的能力，这本质上依赖于要在每次我们看到时能一致的描述这个形状，不论在当时的环境中，与观察者相对的位置是怎样的。局部表面表示的问题，如2.5D简图，是其描述依赖于观察者的视角，因为是对形状的结构的。为分解出一个形状的描述，只依赖于结构，这个表示必须基于整体形状中可以快速识别的几何特征，这些特征的布置必须相对于形状本身指定。简要来说，坐标系必须是以目标为中心的，而不是以观察者为中心的。这个的一方面是处理在使用的表示方案的本质，另一方面是怎样从2.5D简图中得到这种表示。我们先讨论第一个，然后讨论第二个。

### 4.1 the 3D model representation

The most basic geometric properties of the volume occupied by a shape are (1) its average location (or centre of mass), (2) its overall size, as exemplified, for example, by its mean diameter or volume, and (3) its principal axis of elongation or symmetry, if one exists. A description based on these qualities would certainly be inadequate for an application such as shape recognition; after all, one can tell little about the three-dimensional structure of a shape given only its position, size and orientation. But if a shape itself has a natural decomposition into components that can be so described, this volumetric scheme is an effective means for a describing the relative spatial arrangement of those components. The illustration of figure 7 shows a familiar version of this type of description, the stick figure (see Blum 1973). The recognizability of the animal shapes depicted in the illustration is surprising considering the simplicity of representation used to describe them.

一个形状占据的体积的最基本的几何性质为，(1)其平均位置（或质心），(2)其总体大小，比如，其平均半径或体，(3)其伸长主轴，或对称主轴，如果存在的话。基于这些量的描述肯定不足以进行形状识别的应用；毕竟，如果只有位置，大小和方向，很难有这个形状的3D结构信息。但是如果一个形状可以很自然的分解成各种组成部分，可以进行描述，这种体积方案是一种有效的方法描述这些组成部分的相对空间安排。图7展示了这种类型的描述的熟悉版本，火柴图。画中所展示的动物形状的可识别度是很令人吃惊的，因为用于描述的表示是非常简单的。

The reason that such a description works so well lies, we think, in (1) the volumetric (as opposed to surface-based) definition of the primitive elements - the sticks - used by the representation, (2) the relatively small number of elements used, and (3) the relation of elements to each other rather than to the viewer. In short, this type of shape representation is volumetric, modular, and can be based on object-centred coordinates. Figure 8 illustrates the scheme of representation that was developed from these ideas. Here the description of a shape is composed of a hierarchy of stick-figure specifications that we call 3D models. In the simplest, a single axis element is used to specify the location, size and orientation of the entire shape; the human body displayed in the illustration will serve as an instance. This element is also used to define a coordinate system that will specify the dispositions of subsidiary axes, each of these specifying in turn a coordinate system for 3D models of 'arm', 'hand' and so on. This hierarchical structure makes it possible to treat any component of a shape as a shape in itself. It also provides flexibility in the detail of a description.

这样一种表示很有用的原因，我们认为是，(1)表示所用的原始元素-火柴-的体定义的特性（相比较之下是基于表面的），(2)所用的元素数量相对较少，(3)元素之间的关系是相互的，而不是相对于观察者的。简要来说，这种形状表示是体的，模块化的，可以基于以目标为中心的坐标系。图8展示了基于这种思想提出的表示方案。这里，对一个形状的描述是由火柴状层次结构构成的，我们称之为3D模型。最简单的情况下，单轴元素用于指定整个形状的位置，大小和方向；图中展示的人体就是一个例子。这个元素也用于定义一个坐标系，指定附属坐标轴的布置，每个都指定了一个手臂、手等的3D模型的坐标系。这种层次化结构可能将一个形状的任意组成部分作为一个形状来对待。这也为描述的细节提供了灵活性。

### 4.2 shapes admitting a 3D model descriptions

If the scheme for a given shape is to be uniquely defined and stable over unimportant variations such as viewpoint - if, in a word is to be canonical - its definition must take advantage of any salient geometrical characteristics that the shape possesses inherently. If a shape has natural axes, then those should be used. The coordinate system for a sausage should take advantage of its major axis, and for a face, of its axis of symmetry.

如果对给定形状的方案是要定义唯一，而且对于不重要的变化如视角来说要稳定，用一个词来说，要经典，那么其定义要利用形状内在的任何明显的几何特征。如果一个形状有自然的轴，那么这就需要得到利用。一个香肠的坐标系就应当利用其主轴，而对于人脸，就要利用对称轴。

Highly symmetrical objects, like a sphere, a square, or a circular disk, will inevitably lead to ambiguities in the choice of coordinate systems. For a shape as regular as a sphere this poses no great problem, because its description in all reasonable systems is the same. One can even allow other factors, like the direction of motion or spin, to influence the choice of coordinate frame. For other shapes, the existence of more than one possible choice probably means that one has to represent the object in several ways, but this is acceptable provided that their number is small. For example, there are four possible axes on which one might wish to base the coordinate system for representing a door, namely the midlines along its length, its width, and its thickness, and also the axis of its hinges. (This last would be especially useful to represent how the door opens.) For a typewriter, there are two reasonable choices, an axis parallel to its width, because that is usually its largest dimension, and the axis about which a typewriter is roughly symmetrical.

高度对称的目标，如球形，方形，或圆盘，肯定会带来选择坐标系的疑义。对于规则如球形的形状，这并不会带来严重问题，因为在所有合理的系统中其描述都是一样的。甚至可以允许其他因素，如运动或旋转的方向，来影响坐标系的选择。对于其他形状，多余一个可能选择的存在，可能意味着，必须以几种方式表示目标，但这是可以接受的，只要数量很小。比如，要表示一个门，有四个可能的轴，可以作为基础坐标系，即，沿着其长度，宽度，厚度的中轴线，还有其铰链的轴。（最后一个在表示门如何打开时尤其有用。）对于一个打字机，有两个合理的选择，平行于其宽度的轴，因为这通常是其最大的维度，还有沿着打字机大致是对称的轴。

In general, if an axis can be distinguished in a shape, it can be used as the basis for a local coordinate system. One approach to the problem of defining object-centred coordinates is therefore to examine the class of shapes having an axis as an integral part of their structure. Consider, accordingly, the class of so-called generalized cones, each of these being the surface swept out by moving a cross section of constant shape but smoothly varying size along an axis, as shown in figure 9. Binford (1971) has drawn attention to this class of constructions, suggesting that it might provide a convenient way of describing three-dimensional surfaces for the purposes of computer vision (see also Agin 1972; Nevatia 1974). We regard it as an important class not because the shapes themselves are easily describable, but because the presence of an axis allows one to define a canonical local coordinate system. Fortunately, many objects, especially those whose shape was achieved by growth, are described quite naturally in terms of one or more generalized cones. The animal shapes of figure 7 provide some examples; the individual sticks are simply the axes of generalized cones that approximate the shapes of parts of these creatures. Many artefacts can also be described in this way - say a car (a small box sitting atop a longer one) or a building (a box with a vertical axis.)

总体上，如果从一个形状中可以识别一个轴，那么就可以用作局部坐标系中的基础。定义以目标为中心的坐标系的问题的一种方法，就是检查形状的类别，其结构中有个轴是其有机部分。根据这个，考虑所谓的通用锥的类别，每个都是形状相同但大小缓慢变化的横截面沿着轴扫过得到的表面，如图9所示。Binford关注了这个类别的构建，提议这可能会给出描述计算机视觉三维表面的方便方法。我们将其视为重要的一类，并不仅因为这个形状是很容易描述的，还因为存在一个轴，可以定义一个经典的局部坐标系。幸运的是，很多目标，尤其是那些形状是由生长得到的，可以很自然的用一个或多个通用锥进行描述。图7的动物形状给出了几个例子；单个条状物体就是通用锥的轴，近似了这些生物的部位的形状。很多人造物体也可以用这种方式来进行描述，比如一辆车，或一个建筑。

It is important to remember, however, that there exist surfaces that cannot conveniently be approximated by generalized cones, for example a cake that has been transected at some arbitrary plane, or the surface formed by a crumpled newspaper. Cases like the cake could be dealt with by introducing a suitable surface primitive for describing the plane of the cut, in much the same way as an axis in the 3D model representation is a primitive that describes a volumetric element. But the crumpled newspaper poses apparently intractable problems.

但很重要的是，要记得存在很多不能由通用锥很方便的近似的表面，比如一个已经被切掉一块的蛋糕，或由褶皱的报纸形成的表面。像蛋糕的情况，可以由引入合适的表面，描述切掉的平面，以大致相同的方式3D模型表示描述一个体元素。但褶皱的报纸的问题明显更加难以对付。

### 4.3 finding the natural coordinate system

Even if a shape possesses a canonical coordinate frame, one still is faced with the problem of finding it from an image. Our own interest in this problem grew from the question of how to interpret the outlines of objects as seen in a two-dimensional image (Marr 1977b), and our starting point was the observation that when one looks at the silhouettes in Picasso's 'Rites of Spring' (reproduced here in figure 10), one perceives them in terms of very particular three-dimensional shapes, some familiar, some less so. This is quite remarkable, because the silhouettes could in theory have been generated by an infinite variety of three-dimensional shapes which, from other viewpoints, would have no discernible similarities to the shape we perceive. One can perhaps attribute part of the phenomenon to a familiarity with the depicted shapes, but not all of it, because one can use the medium of a silhouette to convey a new shape, and because even with considerable effort it is difficult to imagine the more bizarre three-dimensional surfaces that could have given rise to the same silhouettes. The paradox, then, is that the bounding contours in Picasso's 'Rites' apparently tell us more than they should about the shape of the figures. For example, neighbouring points on such a contour could in general arise from widely separated points on the original surface, but our perceptual interpretation usually ignores this possibility.

即使一个形状拥有一个经典坐标系，仍然要面对，从图像中将其找到的问题。我们对这个问题的兴趣是来自于，怎样解释一个二维图像中的目标的外形，我们的开始点是，如果一个人观察Picasso的'Rites of Spring'的轮廓，那么是以非常特别的三维形状感知到的，一些很熟悉，一些则没那么熟。这是非常奇特的，因为这些轮廓理论上可以由无限多的三维形状生成，如果从其他角度观察的话，与我们所感知到的形状会没有任何可辨别的相似性。可以将这种现象部分归因于对画中的形状的熟悉性，但不能全归因于这个，因为可以用轮廓这种媒质来传递一个新的形状，因为用很大努力还是很难想象出更加奇特3D表面会给出相同的轮廓。这种悖论就是，在Picasso的Rites中，轮廓显然告诉了我们比图形的形状应当告诉我们更多的内容。比如，在这种轮廓上的相邻点一般会从原始表面上分隔很开的点开始，但我们的感知解释通常忽略了这种可能性。

The first observation to be made is that the contours that bound these silhouettes are contours of surface discontinuity, which are precisely the contours with which the 2.5D sketch is concerned. Secondly, because we can interpret the silhouettes as three-dimensional shapes, then implicit in the way we interpret them must lie some a priori assumptions that allow us to infer a shape from an outline. If a surface violates these assumptions, our analysis will be wrong, in the sense that the shape that we assign to the contours will differ from the shape that actually caused them. An everyday example is the shadowgraph, where the appropriate arrangement of one's hands can, to the surprise and delight of a child, produce the shadow of a duck or a rabbit.

第一个观察是，包含这些剪影的轮廓是表面不连续性的轮廓，也就是2.5D简图关心的轮廓。第二，因为我们将剪影解释为3D形状，那么我们解释的方式隐式中，必须包含一些先验假设，使我们从一个外形中推断一个形状。如果一个表面与这些假设相违背，我们的分析就会是错误的，我们指定给这个轮廓的形状，就会与之际导致这个轮廓的形状不同。一个每天都会见到的例子是投影画，用手的不同姿势投影得到的画，可以投出一个鸭子或兔子的阴影。

What assumptions is it reasonable to suppose that we make? To explain them, we need to define the four constructions that appear in figure 11. These are (1) a three-dimensional surface Σ, (2) its image or silhouette S_V as seen from a viewpoint V, (3) the bounding contour C_V of S_V, and (4) the set of points on the surface Σ that project onto the contour C_V. We shall call this last the contour generator of C_V, and we shall denote it by Γ_V.

我们做出哪些假设是合理的呢？为解释，我们需要定义图11中的四种图。这些是，(1)一个3D表面Σ，(2)从视角V看到的图像或剪影S_V，(3)包围S_V的轮廓C_V，(4)在表面Σ上，投影成轮廓C_V的那些点的集合。我们称最后这个为C_V的轮廓生成器，我们将其表示为Γ_V。

Observe that the contour C_V, like the contours in the work of Picasso, imparts very little information about the three-dimensional surface that caused it. Indeed, the only obvious feature available in the contour is the distinction between convex and concave places - that is to say, the presence of inflexion points. In order that these inflections be 'reliable', one needs to make some assumptions about the way in which the contour was generated, and we choose the following restrictions (Marr 1977).

观察一下轮廓C_V，和Picasso作品中的轮廓一样，传递的导致其的3D表面的信息很少。确实，在这个轮廓中唯一明显的特征是，凸处和凹处的区别，即，弯曲点的存在。为使这些弯曲点更加可靠，需要做出一些假设，即轮廓点生成的方式，我们选择下面的约束。

(1) Each point on the contour generator Γ_V projects to a different point on the contour C_V. 轮廓生成器Γ_V上的每个点都投影到轮廓C_V上不同的点。

(2) Nearby points on the contour C_V arise from nearby points on the contour generator Γ_V. 在轮廓C_V上的附近点是由轮廓生成器Γ_V上的附近点投影成的。

(3) The contour generator Γ_V lies wholly in a single plane. 轮廓生成器Γ_V在一个平面上。

The first and second restrictions say that each point on the contour of the image comes from one point on the surface (which is an assumption that faciliates the analysis but is not of fundamental importance), and that where the surface looks continuous in the image, it really is continuous in three dimensions. The third restriction is simply the demand that the difference between convex and concave contour segments reflects properties of the surface, rather than of the imaging process.

第一和第二个约束是，轮廓上的每个点都是从表面上的一个点来的（这个假设促进了这个分析，但并不是根本重要的），在图像上看起来连续的表面，在3D中真的是连续的。第三个约束是要求，轮廓片段上的凸和凹处，反应了表面上的性质，而不是成像的过程。

It turns out to be a theorem that if the surface is smooth (for our purposes, if it is twice differentiable with continuous second derivative) and if restrictions 1-3 hold for all distant viewing positions in any one plane (as illustrated in figure 11), then the viewed surface is a generalized cone with straight axis. (The converse is also true: if the surface is a generalized cone with straight axis, then conditions 1-3 will be found to be true.)

下面这实际上是一个定理，如果一个平面是光滑的，如果约束1-3对所有远处的观察位置成立，那么观察到的表面是一个通用锥体，并且有的直线轴。（反过来也是成立的：如果表面是一个通用锥，有着直线轴，那么约束1-3就是成立的。）

This means that if the convexities and concavities of a bounding contour in an image are actual properties of a surface, then that surface is a generalized cone or is composed of several such cones. In brief, the theorem says that a natural link exists between generalized cones and the imaging process itself. The combination of these two must mean, we think, that generalized cones will play an intimate role in the development of vision theory.

这意味着，如果包围轮廓的凸性和凹性是表面的真实性质，那么这个表面就是一个通用锥，或由几个这样的锥构成。简要来说，这个定理说，通用锥与成像过程存在很自然的联系。这两者的结合必然意味着，通用锥在视觉理论的发展中必然起到很密切的作用。

## 5. Discussion

I have tried in this survey of visual information processing to make two principle points. The first is methodological: namely, that it is important to be very clear about the nature of the understanding that we seek. The results that we try to achieve should be precise ones, at the level of what we call a computational theory. The critical act in formulating computational theories turns out to be the discovery of valid constraints on the way the world is structured - constraints that provide sufficient information to allow the processing to succeed. Consider stereopsis, which presupposes continuity and uniqueness in the world, or structure from visual motion, which presupposes rigidity, or shape from contour, which presupposes the three restrictions just discussed, or even edge detection, which presupposes the assumption of spatial coincidence. The discovery of constraints that are valid and universal leads to results about vision that have the same quality of permanence as results in other branches of science.

在这篇视觉信息处理的综述中，我试图表明两个主要观点。第一个是方法论的：即，要清楚我们所追寻的理解的本质，这是非常重要的。我们要取得的结果应当是非常精确的，是在我们称为计算理论的层次。表述计算理论的关键行为，是发现世界构建的有效约束，即能够给出足够信息，使得这个处理能够继续的约束。考虑一下立体视觉，预先假定了世界中的连续性和唯一性，或SFM，预先假定了刚性，或从轮廓中推断形状，预先假定了刚才讨论的三个约束，或甚至是边缘检测，预先假定了空间巧合的假设。发现有效和普遍的约束，带来的视觉的结果，与其他科学分支的结果有同样质量的持久性。

The second point is that the critical issues for vision seem to me to revolve around the nature of the representations and the nature of the processes that create, maintain and eventually interpret them. I have suggested an overall framework for visual information processing (summarized in table 2) that includes three categories of representation upon which the processing is to operate. The first encompasses representations of intensity variations and their local geometry in the input to the visual system. One among these, the primal sketch, is expressly intended to be an efficient description of these variations which captures just that information required by the image analysis to follow. The second category encompasses the representations of visible surfaces - the description in other words, of the physical properties of the surfaces that caused the images in the first place. The nature of these representations, the 2.5D sketch in particular, is determined primarily by what information can be extracted by modules of image analysis such as stereopsis and structure from motion. Like the primal sketch of the previous category, the 2.5D sketch is intended to be a final or output representation: this is where the separate contributions from the various image-analysis modules can be combined into a unified description. The third category encompasses all representations that are subsequently constructed from information contained in the 2.5D sketch. The design of these tertiary representations are determined largely by the use to which they are to be put, as for the 3D model representation, to be used for shape recognition. If one had wanted instead, for example, to represent a shape simply for later reproduction, say by the milling of a block of metal, then the 2.5D sketch would itself have been sufficient, as the milling process depends explicitly on information about local depth and orientation, such as that sketch can provide.

第二个点是，对视觉来说的关键问题，一直是环绕着表示的本质，和创建、维护和最终解释表示的过程的本质。我提出了一个视觉信息处理的总体框架（总结在表2中），包含了三类表示，在此之上进行处理。第一个包含了视觉系统输入中灰度变化和局部几何的表示。其中的一个是原始简图，是这些变化的有效描述，其包含的信息可以随后进行图像分析。第二个类别包含可见表面的表示，换句话说，是得到这幅图像的表面的物理性质。这些表示的本质，特别是2.5D简图，主要是由图像分析的模块可以提取出什么信息决定的，如立体视觉和从运动中推断结构。就像前一类的初始简图，2.5D简图是一个最终的或输出的表示：这是不同的图像分析模块的单独贡献，可以结合到一起，成为一个统一的描述。第三个类别包含了从2.5D简图中所包含的信息中构建得到的所有表示。第三级表示的设计，主要是由其用处决定的，比如3D模型表示，用于形状识别。如果表示一个形状只是用于后期的重现，比如金属块的加工，那么2.5D简图就足够了，因为加工的过程显式的依赖于局部深度和方向的信息，这就是2.5D简图可以提供的。

Finally, a remark of a rather different nature. As we have seen, some aspects of human early visual processing, like stereopsis, have apparently been understood well enough to implement them in machines (Marr & Poggio 1979; Marr & Grimson 1979). The computational power required by these early processes is prohibitive, and until recently the prospects for real-time implementation of human-like early vision were remote. It now appears, however, that the emerging VLSI and CCD technologies will be able to supply the necessary processing power. This could make the next two decades very interesting.

最后，提一下一个非常不同的本质。我们可以看到，人类早期视觉处理的一些方面，如立体视觉，显然得到了充分的理解，并在机器中得到了实现。早期过程所需的计算能量，是非常大的，直到最近，像人类早期视觉的实时实现还是很遥远的。正在兴起的VLSI和CCD技术会提供足够的处理能力。这会使得后面的二十年非常有趣。